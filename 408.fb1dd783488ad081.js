"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[408],{7408:(ne,S,i)=>{i.r(S),i.d(S,{HeroesModule:()=>f});var u=i(6895),s=i(3060),e=i(4650),Y=i(1261),j=i(529);class c{constructor(t){this.http=t,this.baseUrl=Y.N.baseUrl}getHeroes(){return this.http.get(`${this.baseUrl}/heroes`)}getHeroeById(t){return this.http.get(`${this.baseUrl}/heroes/${t}`)}getSugerencias(t){return this.http.get(`${this.baseUrl}/heroes?q=${t}&_limit=6`)}agregarHeroe(t){return this.http.post(`${this.baseUrl}/heroes`,t)}actualizarHeroe(t){return this.http.put(`${this.baseUrl}/heroes/${t.id}`,t)}borrarHeroe(t){return this.http.delete(`${this.baseUrl}/heroes/${t}`)}}c.\u0275fac=function(t){return new(t||c)(e.LFG(j.eN))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var J=i(4850),Z=i(4859),g=i(3546);class p{transform(t){return t.id?t.alt_img?t.alt_img:`assets/heroes/${t.id}.jpg`:"assets/no-image.png"}}p.\u0275fac=function(t){return new(t||p)},p.\u0275pipe=e.Yjl({name:"imagen",type:p,pure:!0});const B=function(r){return["/heroes/",r]},E=function(r){return["/heroes/editar/",r]};class d{}function Q(r,t){if(1&r&&(e.TgZ(0,"div",2),e._UZ(1,"app-heroe-tarjeta",3),e.qZA()),2&r){const o=t.$implicit;e.xp6(1),e.Q6J("heroe",o)}}d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-heroe-tarjeta"]],inputs:{heroe:"heroe"},decls:28,vars:14,consts:[[1,"animate__animated","animate__fadeIn"],["mat-card-imgage","","alt","",3,"src"],["mat-stroked-button","",3,"routerLink"],[1,"spacer"],["mat-stroked-button","","color","accent",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA()(),e._UZ(6,"br")(7,"img",1),e.ALo(8,"imagen"),e._UZ(9,"br"),e.TgZ(10,"mat-card-content")(11,"h3"),e._uU(12),e.qZA(),e.TgZ(13,"p")(14,"strong"),e._uU(15,"Primera aparici\xf3n: "),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p")(18,"strong"),e._uU(19," Personajes: "),e.qZA(),e._uU(20),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"mat-card-actions")(23,"button",2),e._uU(24,"Saber m\xe1s"),e.qZA(),e._UZ(25,"div",3),e.TgZ(26,"button",4),e._uU(27,"Editar"),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(o.heroe.superhero),e.xp6(2),e.Oqu(o.heroe.alter_ego),e.xp6(2),e.Q6J("src",e.lcZ(8,8,o.heroe),e.LSH),e.xp6(5),e.Oqu(o.heroe.publisher),e.xp6(4),e.Oqu(o.heroe.first_appearance),e.xp6(4),e.hij(" ",o.heroe.characters,""),e.xp6(3),e.Q6J("routerLink",e.VKq(10,B,o.heroe.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(12,E,o.heroe.id)))},dependencies:[s.rH,Z.lW,g.a8,g.hq,g.dn,g.dk,g.$j,g.n5,p],styles:["mat-card[_ngcontent-%COMP%]{margin-bottom:20px}"]});class v{constructor(t){this.heroesService=t,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(t=>this.heroes=t)}}v.\u0275fac=function(t){return new(t||v)(e.Y36(c))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-listado"]],decls:6,vars:1,consts:[[1,"row"],["class","col col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col","col-md-6","col-lg-4","col-xl-3"],[3,"heroe"]],template:function(t,o){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Listado de h\xe9roes"),e.qZA(),e._UZ(2,"mat-divider")(3,"br"),e.TgZ(4,"div",0),e.YNc(5,Q,2,1,"div",1),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",o.heroes))},dependencies:[u.sg,J.d,d],encapsulation:2});var y=i(3900),M=i(5412);class T{constructor(t,o){this.dialogRef=t,this.data=o}borrar(){this.dialogRef.close(!0)}cancelar(){this.dialogRef.close(!1)}}T.\u0275fac=function(t){return new(t||T)(e.Y36(M.so),e.Y36(M.WI))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-confirmar"]],decls:15,vars:1,consts:[["mat-dialog-content",""],[1,"row"],[1,"col-lg-6"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\xbfEst\xe1 seguro?"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p"),e._uU(5),e._UZ(6,"br"),e._uU(7," \xbfDesea continuar? "),e.qZA(),e.TgZ(8,"div",1)(9,"div",2)(10,"button",3),e.NdJ("click",function(){return o.borrar()}),e._uU(11,"Si"),e.qZA()(),e.TgZ(12,"div",2)(13,"button",4),e.NdJ("click",function(){return o.cancelar()}),e._uU(14,"Cancelar"),e.qZA()()()()),2&t&&(e.xp6(5),e.hij(" Est\xe1 apunto de borrar a ",o.data.superhero," "))},dependencies:[Z.lW,M.xY],styles:["button[_ngcontent-%COMP%]{width:100%;margin:5px}"]});var H=(()=>{return(r=H||(H={})).DCComics="DC Comics",r.MarvelComics="Marvel Comics",H;var r})(),L=i(7009),x=i(7392),F=i(3238),q=i(9549),N=i(4144),w=i(4385),m=i(4006);function $(r,t){if(1&r&&(e.TgZ(0,"h1"),e._uU(1," Nuevo H\xe9roe "),e.TgZ(2,"small"),e._uU(3),e.qZA()()),2&r){const o=e.oxw();e.xp6(3),e.Oqu(o.heroe.superhero)}}function R(r,t){if(1&r&&(e.TgZ(0,"h1"),e._uU(1," Editando H\xe9roe "),e.TgZ(2,"small"),e._uU(3),e.qZA()()),2&r){const o=e.oxw();e.xp6(3),e.Oqu(o.heroe.superhero)}}function P(r,t){if(1&r&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&r){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function X(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"div",4)(1,"button",15),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.borrar())}),e._uU(2,"Eliminar "),e.TgZ(3,"mat-icon"),e._uU(4,"delete"),e.qZA()()()}}class h{constructor(t,o,n,a,l){this.heroesService=t,this.activatedRoute=o,this.router=n,this._snackBar=a,this.dialog=l,this.publishers=["DC Comics","Marvel Comics"],this.heroe={superhero:"",alt_img:"",alter_ego:"",characters:"",first_appearance:"",publisher:H.DCComics}}ngOnInit(){this.router.url.includes("edit")&&this.activatedRoute.params.pipe((0,y.w)(({id:t})=>this.heroesService.getHeroeById(t))).subscribe(t=>this.heroe=t)}guardar(){0!==this.heroe.superhero.trim().length?this.heroe.id?this.heroesService.actualizarHeroe(this.heroe).subscribe(t=>{console.log("Actualizando ",t),this.mostrarSnackbar("Heroe actualizado")}):this.heroesService.agregarHeroe(this.heroe).subscribe(t=>{this.router.navigate(["/heroes/editar",t.id]),this.mostrarSnackbar("Heroe creado")}):console.log(this.heroe.superhero)}borrar(){this.dialog.open(T,{data:{...this.heroe}}).afterClosed().subscribe(o=>{o&&this.heroesService.borrarHeroe(this.heroe.id).subscribe(n=>{this.router.navigate(["/heroes"]),this.mostrarSnackbar("Heroe eliminado")})})}mostrarSnackbar(t){this._snackBar.open(t,"Cerrar",{duration:2500})}}h.\u0275fac=function(t){return new(t||h)(e.Y36(c),e.Y36(s.gz),e.Y36(s.F0),e.Y36(L.ux),e.Y36(M.uw))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-agregar"]],decls:48,vars:13,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"row"],[1,"col-sm-8"],[1,"col-lg-6"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],[1,"col-12"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","url","required","",3,"ngModel","ngModelChange"],["class","col-lg-6",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"col-sm"],["alt","",3,"src"],[3,"value"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){if(1&t&&(e.YNc(0,$,4,1,"h1",0),e.YNc(1,R,4,1,"ng-template",null,1,e.W1O),e.TgZ(3,"div",2)(4,"div",3)(5,"div",2)(6,"div",4)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Superheroe"),e.qZA(),e.TgZ(10,"input",5),e.NdJ("ngModelChange",function(a){return o.heroe.superhero=a}),e.qZA()()(),e.TgZ(11,"div",4)(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Alter ego"),e.qZA(),e.TgZ(15,"input",5),e.NdJ("ngModelChange",function(a){return o.heroe.alter_ego=a}),e.qZA()()(),e.TgZ(16,"div",6)(17,"mat-form-field")(18,"mat-label"),e._uU(19,"Primera aparici\xf3n"),e.qZA(),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(a){return o.heroe.first_appearance=a}),e.qZA()()(),e.TgZ(21,"div",6)(22,"mat-form-field")(23,"mat-label"),e._uU(24,"Personajes"),e.qZA(),e.TgZ(25,"input",5),e.NdJ("ngModelChange",function(a){return o.heroe.characters=a}),e.qZA()()(),e.TgZ(26,"div",6)(27,"mat-form-field")(28,"mat-label"),e._uU(29,"Creador"),e.qZA(),e.TgZ(30,"mat-select",7),e.NdJ("ngModelChange",function(a){return o.heroe.publisher=a}),e.YNc(31,P,2,2,"mat-option",8),e.qZA()()(),e.TgZ(32,"div",6)(33,"mat-form-field")(34,"mat-label"),e._uU(35,"Foto URL"),e.qZA(),e.TgZ(36,"input",9),e.NdJ("ngModelChange",function(a){return o.heroe.alt_img=a}),e.qZA()()()(),e.TgZ(37,"div",2),e.YNc(38,X,5,0,"div",10),e.TgZ(39,"div",4)(40,"button",11),e.NdJ("click",function(){return o.guardar()}),e._uU(41,"Guardar "),e.TgZ(42,"mat-icon"),e._uU(43,"done"),e.qZA()()()(),e._UZ(44,"br"),e.qZA(),e.TgZ(45,"div",12),e._UZ(46,"img",13),e.ALo(47,"imagen"),e.qZA()()),2&t){const n=e.MAs(2);e.Q6J("ngIf",!o.heroe.id)("ngIfElse",n),e.xp6(10),e.Q6J("ngModel",o.heroe.superhero),e.xp6(5),e.Q6J("ngModel",o.heroe.alter_ego),e.xp6(5),e.Q6J("ngModel",o.heroe.first_appearance),e.xp6(5),e.Q6J("ngModel",o.heroe.characters),e.xp6(5),e.Q6J("ngModel",o.heroe.publisher),e.xp6(1),e.Q6J("ngForOf",o.publishers),e.xp6(5),e.Q6J("ngModel",o.heroe.alt_img),e.xp6(2),e.Q6J("ngIf",o.heroe.id),e.xp6(8),e.Q6J("src",e.lcZ(47,11,o.heroe),e.LSH)}},dependencies:[u.sg,u.O5,Z.lW,x.Hw,F.ey,q.KE,q.hX,N.Nt,w.gD,m.Fj,m.JJ,m.Q7,m.On,p],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:100%;border-radius:5px}button[_ngcontent-%COMP%]{justify-self:right;width:100%;margin:5px}"]});var O=i(3805);function K(r,t){if(1&r&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&r){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.superhero," ")}}function z(r,t){if(1&r&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.hij(' No se encontr\xf3 nada con el t\xe9rmino "',o.termino,'" ')}}function G(r,t){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-heroe-tarjeta",9),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("heroe",o.heroeSeleccionado)}}class C{constructor(t){this.heroesService=t,this.termino="",this.heroes=[]}buscando(){this.heroesService.getSugerencias(this.termino).subscribe(t=>this.heroes=t)}opcionSeleccionada(t){if(!t.option.value)return void(this.heroeSeleccionado=void 0);const o=t.option.value;this.termino=o.superhero,this.heroesService.getHeroeById(o.id).subscribe(n=>this.heroeSeleccionado=n)}}C.\u0275fac=function(t){return new(t||C)(e.Y36(c))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-buscar"]],decls:15,vars:5,consts:[[1,"row"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Busca tu h\xe9roe favorito","matInput","",3,"ngModel","matAutocomplete","ngModelChange","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],[3,"value"],[3,"heroe"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Buscador de heroes"),e.qZA(),e._UZ(3,"mat-divider")(4,"hr"),e.TgZ(5,"mat-form-field",1)(6,"mat-label"),e._uU(7,"Heroe"),e.qZA(),e.TgZ(8,"input",2),e.NdJ("ngModelChange",function(a){return o.termino=a})("input",function(){return o.buscando()}),e.qZA(),e.TgZ(9,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(a){return o.opcionSeleccionada(a)}),e.YNc(11,K,2,2,"mat-option",5),e.YNc(12,z,2,1,"mat-option",6),e.qZA()()(),e.TgZ(13,"div",0),e.YNc(14,G,2,1,"div",7),e.qZA()),2&t){const n=e.MAs(10);e.xp6(8),e.Q6J("ngModel",o.termino)("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",o.heroes),e.xp6(1),e.Q6J("ngIf",0===o.heroes.length&&""!==o.termino),e.xp6(2),e.Q6J("ngIf",o.heroeSeleccionado)}},dependencies:[u.sg,u.O5,J.d,O.XC,F.ey,O.ZL,q.KE,q.hX,N.Nt,m.Fj,m.JJ,m.On,d],encapsulation:2});var A=i(6338),D=i(1572),k=i(782);function W(r,t){1&r&&(e.TgZ(0,"mat-grid-list",2)(1,"mat-grid-tile"),e._UZ(2,"mat-spinner"),e.qZA()())}function V(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h1"),e._uU(3),e.TgZ(4,"small"),e._uU(5),e.qZA()(),e._UZ(6,"mat-divider")(7,"img",5),e.ALo(8,"imagen"),e.qZA(),e.TgZ(9,"div",6)(10,"h1"),e._uU(11),e.qZA(),e._UZ(12,"mat-divider"),e.TgZ(13,"mat-list")(14,"mat-list-item"),e._uU(15),e.qZA(),e._UZ(16,"mat-divider"),e.TgZ(17,"mat-list-item"),e._uU(18),e.qZA(),e._UZ(19,"mat-divider"),e.TgZ(20,"mat-list-item"),e._uU(21),e.qZA(),e._UZ(22,"mat-divider"),e.TgZ(23,"mat-list-item"),e._uU(24),e.qZA()(),e._UZ(25,"br"),e.TgZ(26,"button",7),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.back())}),e.TgZ(27,"mat-icon"),e._uU(28,"arrow_back"),e.qZA(),e._uU(29," Regresar "),e.qZA()()()}if(2&r){const o=e.oxw();e.xp6(3),e.hij(" ",o.heroe.superhero," "),e.xp6(2),e.hij("- ",o.heroe.alter_ego,""),e.xp6(2),e.Q6J("src",e.lcZ(8,8,o.heroe),e.LSH),e.xp6(4),e.Oqu(o.heroe.publisher),e.xp6(4),e.hij(" ",o.heroe.first_appearance,""),e.xp6(3),e.hij(" ",o.heroe.characters,""),e.xp6(3),e.hij(" ",o.heroe.publisher,""),e.xp6(3),e.hij(" ",o.heroe.alter_ego,"")}}class b{constructor(t,o,n,a){this.activatedRoute=t,this.heroesService=o,this.router=n,this.location=a}ngOnInit(){this.activatedRoute.params.pipe((0,y.w)(({id:t})=>this.heroesService.getHeroeById(t))).subscribe(t=>this.heroe=t)}back(){this.location.back()}}b.\u0275fac=function(t){return new(t||b)(e.Y36(s.gz),e.Y36(c),e.Y36(s.F0),e.Y36(u.Ye))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-heroe"]],decls:3,vars:2,consts:[["cols","1",4,"ngIf","ngIfElse"],["divHeroe",""],["cols","1"],[1,"row"],[1,"col-4"],[3,"src"],[1,"col"],["mat-fab","","extended","","color","warn",3,"click"]],template:function(t,o){if(1&t&&(e.YNc(0,W,3,0,"mat-grid-list",0),e.YNc(1,V,30,10,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(2);e.Q6J("ngIf",!o.heroe)("ngIfElse",n)}},dependencies:[u.O5,Z.cs,x.Hw,A.i$,A.Tg,J.d,D.Ou,k.Il,k.DX,p],styles:["img[_ngcontent-%COMP%]{width:100%}"]});var ee=i(6518),I=i(3267),te=i(3683);class U{get auth(){return this.authService.auth}constructor(t,o){this.router=t,this.authService=o}logout(){this.router.navigate(["./auth"])}}U.\u0275fac=function(t){return new(t||U)(e.Y36(s.F0),e.Y36(ee.e))},U.\u0275cmp=e.Xpm({type:U,selectors:[["app-home"]],decls:31,vars:1,consts:[["fullscreen",""],["mode","over","disableClose","false"],["sidenav",""],["routerLink","./listado","mat-list-item","",3,"click"],["matListItemIcon",""],["routerLink","./agregar","mat-list-item","",3,"click"],["routerLink","./buscar","mat-list-item","",3,"click"],["mat-icon-button","",3,"click"],[1,"spacer"],["mat-icon-button","","matTooltip","Basic",3,"click"],[1,"container"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-nav-list")(4,"a",3),e.NdJ("click",function(){e.CHM(n);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(5,"mat-icon",4),e._uU(6,"label"),e.qZA(),e.TgZ(7,"span"),e._uU(8,"Listado de h\xe9roes"),e.qZA()(),e.TgZ(9,"a",5),e.NdJ("click",function(){e.CHM(n);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(10,"mat-icon",4),e._uU(11,"add"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"A\xf1adir h\xe9roes"),e.qZA()(),e.TgZ(14,"a",6),e.NdJ("click",function(){e.CHM(n);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(15,"mat-icon",4),e._uU(16,"search"),e.qZA(),e.TgZ(17,"span"),e._uU(18,"Buscar h\xe9roes"),e.qZA()()()(),e.TgZ(19,"mat-toolbar")(20,"button",7),e.NdJ("click",function(){e.CHM(n);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(21,"mat-icon"),e._uU(22,"menu"),e.qZA()(),e._UZ(23,"div",8),e.TgZ(24,"span"),e._uU(25),e.qZA(),e.TgZ(26,"button",9),e.NdJ("click",function(){return o.logout()}),e.TgZ(27,"mat-icon"),e._uU(28,"logout"),e.qZA()()(),e.TgZ(29,"div",10),e._UZ(30,"router-outlet"),e.qZA()()}2&t&&(e.xp6(25),e.Oqu(o.auth.usuario))},dependencies:[s.lC,s.rH,I.JX,I.TM,te.Ye,Z.RK,x.Hw,A.Hk,A.Tg,A.Yt],styles:[".container[_ngcontent-%COMP%]{padding:10px}"]});const oe=[{path:"",component:U,children:[{path:"listado",component:v},{path:"agregar",component:h},{path:"editar/:id",component:h},{path:"buscar",component:C},{path:":id",component:b},{path:"**",redirectTo:"listado"}]}];class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[s.Bz.forChild(oe),s.Bz]});var re=i(898);class f{}f.\u0275fac=function(t){return new(t||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[u.ez,_,re.q,m.u5]})}}]);